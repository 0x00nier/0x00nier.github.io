<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">

<head>
  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=0.5, minimum-scale=0.5, maximum-scale=0.5">
  <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
  {% include head-custom.html %}
  <title>{{ page.title | default: site.title }} - {{ site.description }}</title>

  {% seo %}
</head>

<body>

  <header>
    <div class="container header-inner">
      <a class="site-title" href="{{ '/' | relative_url }}">
        <h1>{{ site.title | default: site.github.repository_name }}</h1>
      </a>

      <nav class="main-nav">
        <a href="{{ '/aboutme.html' | relative_url }}" class="nav-link">whoami/</a>
        <a href="{{ '/experience.html' | relative_url }}" class="nav-link">xp/</a>
        <a href="{{ '/blogs.html' | relative_url }}" class="nav-link">writeups/</a>
        <a href="{{ '/game.html' | relative_url }}" class="nav-link">???</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section id="main_content">
      {{ content }}
    </section>
  </main>

  <footer>
    <div class="container">
      <span class="footer-text">&copy; {{ 'now' | date: "%Y" }} {{ site.title }}</span>
    </div>
  </footer>

  <script>
  // Lazy load images with blur placeholder
  document.addEventListener('DOMContentLoaded', () => {
    const images = document.querySelectorAll('#main_content img:not(.no-lazy)');

    images.forEach(img => {
      if (img.complete) {
        img.classList.add('loaded');
      } else {
        img.classList.add('lazy');
        img.addEventListener('load', () => {
          img.classList.add('loaded');
        });
      }
    });
  });
  </script>
</body>

</html>
